# Formify â€” Dynamic Forms & Process Builder API

A JWTâ€‘protected REST API for building multiâ€‘step forms, collecting responses, running scheduled reports, and orchestrating processes.
Built with **Django 5**, **Django REST Framework**, **SimpleJWT**, **Channels (WebSockets)**, **Celery**, **Redis**, **PostgreSQL 16**, and **drfâ€‘spectacular**. Ships with a Dockerized dev setup.

## Contents

* [Features](#âœ¨-features)
* [Quick Start (Docker)](#ðŸš€-quick-start-docker)
* [Project Structure](#ðŸ“¦-project-structure)
* [Production Tips](#ðŸš¢-production-tips)
* [License](#ðŸ“ƒ-license)

## âœ¨ Features

* **JWT authentication** â€” register, login, token refresh, and `me/` endpoints.
* **Form builder** â€” define forms with fields (`text`, `select`, `checkbox`), required flags, ordering and options.
* **Public & private access** â€” optional passwordâ€‘protected (private) forms; public forms are browsable.
* **Process orchestration** â€” create **linear** or **free** processes composed of ordered form steps.
* **Responses & views** â€” collect submissions and track form views; derive basic metrics.
* **Categories & tagging** â€” assign categories to forms/processes for organization.
* **Reporting** â€” onâ€‘demand or scheduled **summary/detailed** reports; optional **email delivery** via Celery.
* **Realtime updates** â€” **WebSocket** stream for live report payloads via Channels.
* **OpenAPI** â€” autogenerated docs via drfâ€‘spectacular (Swagger & ReDoc).
* **Dockerized** â€” Postgres + Redis + ASGI server for local development.

## ðŸš€ Quick Start (Docker)

```bash
cp .env.example .env
# (optionally edit .env: secrets, email, DB names)
docker compose up --build
```

Optional seed data (users, forms, fields, processes, responses):

```bash
docker compose exec web python manage.py seed_data --clear
```

### OpenAPI docs

* Swagger: `/api/docs/`
* ReDoc: `/api/redoc/`
* JSON schema: `/api/schema/`
* API root: `/api/`

**API namespaces**

* Accounts: `/api/v1/accounts/`  (e.g., `register/`, `login/`, `token/refresh/`, `me/`)
* Forms: `/api/v1/forms/`  (CRUD for forms, fields, processes, responses, reports)

  * Public: `/api/v1/forms/public/forms/`  (list/retrieve)
  * Submit: `/api/v1/forms/public/forms/{form_id}/submit/`
  * Private access validation: `/api/v1/forms/private/forms/validate/`
  * Workflow helpers: `/api/v1/forms/workflow/...`  (get steps, current step, complete step)

**WebSocket endpoint**

* `ws://<host>/ws/forms/<form_id>/reports/?type=summary|detailed`

## ðŸ“¦ Project Structure

```
config/                 # Django settings, URLs, ASGI
accounts/               # Registration/Login/JWT refresh/me endpoints
forms/                  # Forms, fields, processes, responses, reporting
  â”œâ”€â”€ api/v1/           # DRF routers, viewsets, schema annotations
  â”œâ”€â”€ services/         # business logic (reporting, CRUD services)
  â”œâ”€â”€ management/       # commands (e.g. seed_data)
  â”œâ”€â”€ consumers.py      # Channels consumer for live reports
  â””â”€â”€ models.py         # Form/Field/Process/Response/Report models

documents/              # Architecture notes, ERD, usage guides
Dockerfile
docker-compose.yml
entrypoint.sh           # Dev ASGI entrypoint (daphne)
manage.py
requirements.txt
```

## ðŸš¢ Production Tips

**Environment & security**

* Set `DJANGO_DEBUG=0` and use a strong `DJANGO_SECRET_KEY`.
* Configure `DJANGO_ALLOWED_HOSTS` and database credentials.
* Configure email (`EMAIL_*`) if using email report delivery.

## ðŸ“ƒ License

This project is licensed under the **GNU General Public License v3.0**.
See the [LICENSE](LICENSE) file for details.
